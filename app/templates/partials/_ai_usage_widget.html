<!-- AI Usage Statistics Widget -->
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <!-- Conversations -->
    <div class="bg-purple-50 rounded-lg p-4">
        <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-purple-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
            </svg>
            <span class="text-sm text-purple-700">Conversations</span>
        </div>
        <p class="text-2xl font-bold text-purple-900 mt-2">{{ total_conversations }}</p>
    </div>

    <!-- Messages -->
    <div class="bg-blue-50 rounded-lg p-4">
        <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
            </svg>
            <span class="text-sm text-blue-700">Messages</span>
        </div>
        <p class="text-2xl font-bold text-blue-900 mt-2">{{ total_messages }}</p>
    </div>

    <!-- Total Tokens -->
    <div class="bg-green-50 rounded-lg p-4">
        <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
            </svg>
            <span class="text-sm text-green-700">Total Tokens</span>
        </div>
        <p class="text-2xl font-bold text-green-900 mt-2">
            {% if total_tokens >= 1000000 %}
                {{ "%.1f"|format(total_tokens / 1000000) }}M
            {% elif total_tokens >= 1000 %}
                {{ "%.1f"|format(total_tokens / 1000) }}K
            {% else %}
                {{ total_tokens }}
            {% endif %}
        </p>
        <p class="text-xs text-green-600 mt-1">
            {% if tokens_in >= 1000 %}
                {{ "%.1f"|format(tokens_in / 1000) }}K in
            {% else %}
                {{ tokens_in }} in
            {% endif %}
            /
            {% if tokens_out >= 1000 %}
                {{ "%.1f"|format(tokens_out / 1000) }}K out
            {% else %}
                {{ tokens_out }} out
            {% endif %}
        </p>
    </div>

    <!-- Suggestions -->
    <div class="bg-orange-50 rounded-lg p-4">
        <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
            </svg>
            <span class="text-sm text-orange-700">Suggestions</span>
        </div>
        <p class="text-2xl font-bold text-orange-900 mt-2">{{ suggestion_stats.total }}</p>
        <p class="text-xs text-orange-600 mt-1">
            {{ suggestion_stats.pending }} pending /
            {{ suggestion_stats.accepted }} accepted
        </p>
    </div>
</div>

{% if total_conversations == 0 %}
<div class="mt-4 text-center py-4 bg-blackbook-50 rounded-lg">
    <p class="text-sm text-blackbook-500">No AI usage yet. Start by researching a person or company!</p>
</div>
{% endif %}
