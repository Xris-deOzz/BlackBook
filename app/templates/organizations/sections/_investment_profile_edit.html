{# Organization Investment Profile Section - Edit Mode #}
<form hx-put="/api/organizations/{{ organization.id }}/sections/investment-profile"
      hx-target="#section-investment-profile-content"
      hx-swap="innerHTML"
      class="space-y-4">

    {# Investment Stages - Multi-select checkboxes #}
    <div>
        <label class="block text-sm font-medium text-blackbook-700 mb-2">Investment Stages</label>
        {% set current_stages = (organization.investment_stages or '').split(',') | map('trim') | list %}
        <div class="grid grid-cols-2 gap-2">
            {% for stage in [
                ('pre_seed', 'Pre-Seed'),
                ('seed', 'Seed'),
                ('series_a', 'Series A'),
                ('series_b', 'Series B'),
                ('series_c', 'Series C'),
                ('series_d', 'Series D+'),
                ('growth', 'Growth'),
                ('late_stage', 'Late Stage'),
                ('buyout', 'Buyout'),
                ('secondary', 'Secondary')
            ] %}
            <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" name="investment_stages" value="{{ stage[0] }}"
                       {% if stage[0] in current_stages %}checked{% endif %}
                       class="h-4 w-4 text-purple-600 border-blackbook-300 rounded focus:ring-purple-500">
                <span class="ml-2 text-sm text-blackbook-700">{{ stage[1] }}</span>
            </label>
            {% endfor %}
        </div>
    </div>

    {# Check Size Range #}
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label for="check_size_min" class="block text-sm font-medium text-blackbook-700 mb-1">Min Check Size ($K)</label>
            <input type="number" name="check_size_min" id="check_size_min"
                   value="{{ organization.check_size_min or '' }}"
                   placeholder="e.g., 500 for $500K"
                   class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
            <p class="text-xs text-blackbook-400 mt-1">In thousands (500 = $500K)</p>
        </div>
        <div>
            <label for="check_size_max" class="block text-sm font-medium text-blackbook-700 mb-1">Max Check Size ($K)</label>
            <input type="number" name="check_size_max" id="check_size_max"
                   value="{{ organization.check_size_max or '' }}"
                   placeholder="e.g., 5000 for $5M"
                   class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
            <p class="text-xs text-blackbook-400 mt-1">In thousands (5000 = $5M)</p>
        </div>
    </div>

    {# Investment Sectors - Multi-select checkboxes #}
    <div>
        <label class="block text-sm font-medium text-blackbook-700 mb-2">Investment Sectors</label>
        {% set current_sectors = (organization.investment_sectors or '').split(',') | map('trim') | list %}
        <div class="grid grid-cols-2 gap-2">
            {% for sector in [
                ('saas', 'SaaS'),
                ('fintech', 'Fintech'),
                ('healthcare', 'Healthcare'),
                ('consumer', 'Consumer'),
                ('enterprise', 'Enterprise'),
                ('ai_ml', 'AI/ML'),
                ('cybersecurity', 'Cybersecurity'),
                ('biotech', 'Biotech'),
                ('cleantech', 'Cleantech'),
                ('edtech', 'EdTech'),
                ('proptech', 'PropTech'),
                ('marketplace', 'Marketplace'),
                ('hardware', 'Hardware'),
                ('crypto_web3', 'Crypto/Web3'),
                ('deeptech', 'DeepTech'),
                ('other', 'Other')
            ] %}
            <label class="inline-flex items-center cursor-pointer">
                <input type="checkbox" name="investment_sectors" value="{{ sector[0] }}"
                       {% if sector[0] in current_sectors %}checked{% endif %}
                       class="h-4 w-4 text-blue-600 border-blackbook-300 rounded focus:ring-blue-500">
                <span class="ml-2 text-sm text-blackbook-700">{{ sector[1] }}</span>
            </label>
            {% endfor %}
        </div>
    </div>

    {# Geographic Focus #}
    <div>
        <label for="geographic_focus" class="block text-sm font-medium text-blackbook-700 mb-1">Geographic Focus</label>
        <input type="text" name="geographic_focus" id="geographic_focus"
               value="{{ organization.geographic_focus or '' }}"
               placeholder="e.g., North America, Europe, Global"
               class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
        <p class="text-xs text-blackbook-400 mt-1">Comma-separated regions</p>
    </div>

    {# Fund Information #}
    <div class="pt-4 border-t border-blackbook-200">
        <h4 class="text-sm font-medium text-blackbook-700 mb-3">Fund Information</h4>
        <div class="grid grid-cols-2 gap-4">
            <div>
                <label for="fund_size" class="block text-sm font-medium text-blackbook-700 mb-1">Total AUM ($M)</label>
                <input type="number" name="fund_size" id="fund_size"
                       value="{{ organization.fund_size or '' }}"
                       placeholder="e.g., 500 for $500M"
                       class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
                <p class="text-xs text-blackbook-400 mt-1">In millions (1000 = $1B)</p>
            </div>
            <div>
                <label for="current_fund_name" class="block text-sm font-medium text-blackbook-700 mb-1">Current Fund Name</label>
                <input type="text" name="current_fund_name" id="current_fund_name"
                       value="{{ organization.current_fund_name or '' }}"
                       placeholder="e.g., Fund III"
                       class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
            </div>
            <div>
                <label for="current_fund_year" class="block text-sm font-medium text-blackbook-700 mb-1">Fund Year</label>
                <input type="number" name="current_fund_year" id="current_fund_year"
                       value="{{ organization.current_fund_year or '' }}"
                       placeholder="e.g., 2023"
                       min="1900" max="2100"
                       class="w-full px-3 py-2 border border-blackbook-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blackbook-500">
            </div>
        </div>
    </div>

    <div class="flex justify-end gap-2 pt-2">
        <button type="button"
                hx-get="/api/organizations/{{ organization.id }}/sections/investment-profile/view"
                hx-target="#section-investment-profile-content"
                hx-swap="innerHTML"
                class="px-3 py-1.5 text-sm text-blackbook-600 hover:text-blackbook-800">
            Cancel
        </button>
        <button type="submit"
                class="px-3 py-1.5 text-sm bg-blackbook-600 text-white rounded-md hover:bg-blackbook-700">
            Save
        </button>
    </div>
</form>
